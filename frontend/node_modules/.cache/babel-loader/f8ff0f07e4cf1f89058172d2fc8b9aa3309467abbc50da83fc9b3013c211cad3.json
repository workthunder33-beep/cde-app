{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{getFolders,getMetadata}from\"../api/mockApi\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Tree(_ref){let{nodes,onFileClick}=_ref;return/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',paddingLeft:'0.5rem'},children:nodes.map(node=>/*#__PURE__*/_jsx(\"li\",{style:{marginBottom:'0.25rem'},children:node.type==='folder'?/*#__PURE__*/_jsxs(\"details\",{open:true,children:[/*#__PURE__*/_jsx(\"summary\",{style:{fontWeight:600},children:node.name}),/*#__PURE__*/_jsx(Tree,{nodes:node.children||[],onFileClick:onFileClick})]}):/*#__PURE__*/_jsxs(\"span\",{onClick:()=>onFileClick(node),style:{cursor:'pointer',textDecoration:'underline'},title:\"Open \".concat(node.name),children:[node.name,\" (v\",node.version,\")\"]})},node.id))});}export default function FileBrowser(){const[folders,setFolders]=useState([]);const[selectedFile,setSelectedFile]=useState(null);const[metadata,setMetadata]=useState(null);useEffect(()=>{getFolders().then(setFolders);},[]);async function handleFileClick(file){setSelectedFile(file);const meta=await getMetadata(file.id);setMetadata(meta);}return/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1.5fr',height:'80vh',gap:'1rem',padding:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #ddd',borderRadius:12,padding:'1rem',overflow:'auto'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0},children:\"Folders\"}),/*#__PURE__*/_jsx(Tree,{nodes:folders,onFileClick:handleFileClick})]}),/*#__PURE__*/_jsx(\"div\",{style:{border:'1px solid #ddd',borderRadius:12,padding:'1rem',overflow:'auto'},children:selectedFile?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0},children:selectedFile.name}),/*#__PURE__*/_jsxs(\"span\",{style:{opacity:0.7},children:[\"v\",selectedFile.version]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Metadata\"}),/*#__PURE__*/_jsx(\"pre\",{style:{background:'#f7f7f7',padding:'0.75rem',borderRadius:8},children:JSON.stringify(metadata,null,2)})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Viewer (Placeholder)\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:360,background:'#f0f0f0',borderRadius:8,display:'grid',placeItems:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{children:\"APS Viewer Placeholder\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:12,opacity:0.7},children:[\"URN: \",selectedFile.urn]})]})})]})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',placeItems:'center',height:'100%',opacity:0.7},children:/*#__PURE__*/_jsx(\"p\",{children:\"Select a file to see details.\"})})})]});}","map":{"version":3,"names":["React","useEffect","useState","getFolders","getMetadata","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Tree","_ref","nodes","onFileClick","style","listStyle","paddingLeft","children","map","node","marginBottom","type","open","fontWeight","name","onClick","cursor","textDecoration","title","concat","version","id","FileBrowser","folders","setFolders","selectedFile","setSelectedFile","metadata","setMetadata","then","handleFileClick","file","meta","display","gridTemplateColumns","height","gap","padding","border","borderRadius","overflow","marginTop","justifyContent","alignItems","opacity","background","JSON","stringify","placeItems","textAlign","fontSize","urn"],"sources":["C:/Users/workt/Desktop/New folder/cde-app/frontend/src/components/FileBrowser.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { getFolders, getMetadata } from \"../api/mockApi\";\r\n\r\nfunction Tree({ nodes, onFileClick }) {\r\n  return (\r\n    <ul style={{ listStyle: 'none', paddingLeft: '0.5rem' }}>\r\n      {nodes.map(node => (\r\n        <li key={node.id} style={{ marginBottom: '0.25rem' }}>\r\n          {node.type === 'folder' ? (\r\n            <details open>\r\n              <summary style={{ fontWeight: 600 }}>{node.name}</summary>\r\n              <Tree nodes={node.children || []} onFileClick={onFileClick} />\r\n            </details>\r\n          ) : (\r\n            <span\r\n              onClick={() => onFileClick(node)}\r\n              style={{ cursor: 'pointer', textDecoration: 'underline' }}\r\n              title={`Open ${node.name}`}\r\n            >\r\n              {node.name} (v{node.version})\r\n            </span>\r\n          )}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default function FileBrowser() {\r\n  const [folders, setFolders] = useState([]);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [metadata, setMetadata] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getFolders().then(setFolders);\r\n  }, []);\r\n\r\n  async function handleFileClick(file) {\r\n    setSelectedFile(file);\r\n    const meta = await getMetadata(file.id);\r\n    setMetadata(meta);\r\n  }\r\n\r\n  return (\r\n    <div style={{ display: 'grid', gridTemplateColumns: '1fr 1.5fr', height: '80vh', gap: '1rem', padding: '1rem' }}>\r\n      <div style={{ border: '1px solid #ddd', borderRadius: 12, padding: '1rem', overflow: 'auto' }}>\r\n        <h3 style={{ marginTop: 0 }}>Folders</h3>\r\n        <Tree nodes={folders} onFileClick={handleFileClick} />\r\n      </div>\r\n\r\n      <div style={{ border: '1px solid #ddd', borderRadius: 12, padding: '1rem', overflow: 'auto' }}>\r\n        {selectedFile ? (\r\n          <>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <h3 style={{ marginTop: 0 }}>{selectedFile.name}</h3>\r\n              <span style={{ opacity: 0.7 }}>v{selectedFile.version}</span>\r\n            </div>\r\n\r\n            <section>\r\n              <h4>Metadata</h4>\r\n              <pre style={{ background: '#f7f7f7', padding: '0.75rem', borderRadius: 8 }}>{JSON.stringify(metadata, null, 2)}</pre>\r\n            </section>\r\n\r\n            <section>\r\n              <h4>Viewer (Placeholder)</h4>\r\n              <div style={{ height: 360, background: '#f0f0f0', borderRadius: 8, display: 'grid', placeItems: 'center' }}>\r\n                <div style={{ textAlign: 'center' }}>\r\n                  <div>APS Viewer Placeholder</div>\r\n                  <div style={{ fontSize: 12, opacity: 0.7 }}>URN: {selectedFile.urn}</div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </>\r\n        ) : (\r\n          <div style={{ display: 'grid', placeItems: 'center', height: '100%', opacity: 0.7 }}>\r\n            <p>Select a file to see details.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}